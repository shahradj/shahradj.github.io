{"remainingRequest":"/home/shahrad/Documents/multiplayer/node_modules/babel-loader/lib/index.js!/home/shahrad/Documents/multiplayer/src/Song.js","dependencies":[{"path":"/home/shahrad/Documents/multiplayer/src/Song.js","mtime":1689913620800},{"path":"/home/shahrad/Documents/multiplayer/node_modules/cache-loader/dist/cjs.js","mtime":1684244501439},{"path":"/home/shahrad/Documents/multiplayer/node_modules/babel-loader/lib/index.js","mtime":1684244499435}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvc2hhaHJhZC9Eb2N1bWVudHMvbXVsdGlwbGF5ZXIvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0RGVzdHJ1Y3R1cmluZ0VtcHR5IGZyb20gIi9ob21lL3NoYWhyYWQvRG9jdW1lbnRzL211bHRpcGxheWVyL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdERlc3RydWN0dXJpbmdFbXB0eSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvc2hhaHJhZC9Eb2N1bWVudHMvbXVsdGlwbGF5ZXIvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL3NoYWhyYWQvRG9jdW1lbnRzL211bHRpcGxheWVyL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKCnZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7Cgp2YXIgU29uZ0RpciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gU29uZ0RpcihfcmVmKSB7CiAgICBfb2JqZWN0RGVzdHJ1Y3R1cmluZ0VtcHR5KF9yZWYpOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTb25nRGlyKTsKCiAgICB0aGlzLmZpbGVzID0gW107CiAgfQoKICBfY3JlYXRlQ2xhc3MoU29uZ0RpciwgW3sKICAgIGtleTogImluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9pbml0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGFycmF5QnVmZmVyKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5maWxlcyA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5saXN0U29uZ3MoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGluaXQoX3gpIHsKICAgICAgICByZXR1cm4gX2luaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGluaXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJsaXN0U29uZ3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RTb25ncygpIHsKICAgICAgdmFyIGRpcnMgPSBbXTsKICAgICAgZnMucmVhZGRpcignLi9kYXRhLycsIGZ1bmN0aW9uIChlcnIsIGZpbGVzKSB7CiAgICAgICAgZmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgZGlycy5wdXNoKGZpbGUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdmFyIG5ld2ZpbGVzID0gW107CiAgICAgIHZhciBpID0gMTsKICAgICAgZGlycy5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgICAgdmFyIHNvbmdzID0gW107CiAgICAgICAgZnMucmVhZGRpcignLi9kYXRhLycgKyBmaWxlICsgJy8nLCBmdW5jdGlvbiAoZXJyLCBmaWxlcykgewogICAgICAgICAgZmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgICBzb25ncy5wdXNoKGZpbGUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgbmV3ZmlsZXMucHVzaCh7CiAgICAgICAgICAnaWQnOiBpLAogICAgICAgICAgJ25hbWUnOiBmaWxlLAogICAgICAgICAgJ2ZpbGVzJzogc29uZ3MKICAgICAgICB9KTsKICAgICAgICBpKys7CiAgICAgIH0pOwogICAgICB0aGlzLmZpbGVzID0gbmV3ZmlsZXM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU29uZ0RpcjsKfSgpOwoKZXhwb3J0IHsgU29uZ0RpciBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/home/shahrad/Documents/multiplayer/src/Song.js"],"names":["fs","require","SongDir","files","arrayBuffer","listSongs","dirs","readdir","err","forEach","file","push","newfiles","i","songs"],"mappings":";;;;;;;;AAAA,IAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;IAEqBC,O;AACnB,yBAAiB;AAAA;;AAAA;;AACf,SAAKC,KAAL,GAAa,EAAb;AACD;;;;;2FAEUC,W;;;;;AACT,qBAAKD,KAAL,GAAa,EAAb;AACA,qBAAKE,SAAL;;;;;;;;;;;;;;;;;;gCAGS;AACT,UAAIC,IAAI,GAAG,EAAX;AACAN,MAAAA,EAAE,CAACO,OAAH,CAAW,SAAX,EAAsB,UAACC,GAAD,EAAML,KAAN,EAAgB;AAClCA,QAAAA,KAAK,CAACM,OAAN,CAAc,UAAAC,IAAI,EAAI;AAClBJ,UAAAA,IAAI,CAACK,IAAL,CAAUD,IAAV;AACH,SAFD;AAGH,OAJD;AAKA,UAAIE,QAAQ,GAAG,EAAf;AACA,UAAIC,CAAC,GAAG,CAAR;AACAP,MAAAA,IAAI,CAACG,OAAL,CAAa,UAAAC,IAAI,EAAI;AACjB,YAAII,KAAK,GAAG,EAAZ;AACAd,QAAAA,EAAE,CAACO,OAAH,CAAW,YAAUG,IAAV,GAAe,GAA1B,EAA+B,UAACF,GAAD,EAAML,KAAN,EAAgB;AAC3CA,UAAAA,KAAK,CAACM,OAAN,CAAc,UAAAC,IAAI,EAAI;AAClBI,YAAAA,KAAK,CAACH,IAAN,CAAWD,IAAX;AACH,WAFD;AAGH,SAJD;AAKAE,QAAAA,QAAQ,CAACD,IAAT,CAAc;AACV,gBAAME,CADI;AAEV,kBAAQH,IAFE;AAGV,mBAASI;AAHC,SAAd;AAKAD,QAAAA,CAAC;AACJ,OAbD;AAcA,WAAKV,KAAL,GAAaS,QAAb;AAED;;;;;;SAnCkBV,O","sourcesContent":["const fs = require('fs');\n\nexport default class SongDir {\n  constructor({ }) {\n    this.files = [];\n  }\n\n  async init(arrayBuffer) {\n    this.files = [];\n    this.listSongs();\n  }\n\n  listSongs(){\n    var dirs = [];\n    fs.readdir('./data/', (err, files) => {\n        files.forEach(file => {\n            dirs.push(file)\n        })\n    });\n    var newfiles = [];\n    var i = 1;\n    dirs.forEach(file => {\n        var songs = [];\n        fs.readdir('./data/'+file+'/', (err, files) => {\n            files.forEach(file => {\n                songs.push(file)\n            })\n        });\n        newfiles.push({\n            'id': i,\n            'name': file,\n            'files': songs\n        })\n        i++;\n    });\n    this.files = newfiles;\n\n  }\n  \n}\n"]}]}