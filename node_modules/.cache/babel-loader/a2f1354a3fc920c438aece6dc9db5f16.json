{"remainingRequest":"/home/shahrad/Documents/multiplayer/node_modules/babel-loader/lib/index.js!/home/shahrad/Documents/multiplayer/src/store/settings.js","dependencies":[{"path":"/home/shahrad/Documents/multiplayer/src/store/settings.js","mtime":1691814327525},{"path":"/home/shahrad/Documents/multiplayer/node_modules/cache-loader/dist/cjs.js","mtime":1684244501439},{"path":"/home/shahrad/Documents/multiplayer/node_modules/babel-loader/lib/index.js","mtime":1684244499435}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvc2hhaHJhZC9Eb2N1bWVudHMvbXVsdGlwbGF5ZXIvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvaG9tZS9zaGFocmFkL0RvY3VtZW50cy9tdWx0aXBsYXllci9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IHsgc2V0Q2xpY2tQYW4sIHNldENsaWNrR2FpbiB9IGZyb20gJy4uL2NsaWNrJzsKaW1wb3J0IHsgaW5pdE1pZGlFdmVudHMgfSBmcm9tICcuLi9taWRpJzsKaW1wb3J0IHsgc2V0VHJhY2tHYWluLCB0cmFja3NTdGVyZW9QYW5uZXJOb2RlIH0gZnJvbSAnLi4vdHJhY2tzJzsKaW1wb3J0IHsgc2V0LCBnZXQgfSBmcm9tICcuLi9kYXRhYmFzZSc7CnZhciBzdG9yZSA9IHsKICBzdGF0ZTogewogICAgdHJhY2tQYW5uaW5nOiAwLAogICAgY2xpY2tQYW5uaW5nOiAwLAogICAgbWlkaURldmljZU5hbWU6IG51bGwsCiAgICBjbGlja0dhaW5WYWx1ZTogMSwKICAgIHRyYWNrR2FpblZhbHVlOiAxLAoKICAgIC8qKgogICAgICogeyBbYWN0aW9uTmFtZV06IHsgdHlwZTogJ25vdGUnIHwgJ2NvbnRyb2xDaGFuZ2UnIHwgJ2tleScsIHZhbHVlOiBhbnkgfSB9CiAgICAgKi8KICAgIGNvbnRyb2xFZGl0TWFwOiB7fQogIH0sCiAgZ2V0dGVyczogewogICAgZ2V0Q29udHJvbE1hcHBpbmc6IGZ1bmN0aW9uIGdldENvbnRyb2xNYXBwaW5nKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoY29udHJvbE5hbWUpIHsKICAgICAgICByZXR1cm4gc3RhdGUuY29udHJvbEVkaXRNYXBbY29udHJvbE5hbWVdOwogICAgICB9OwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRUcmFja1Bhbm5pbmc6IGZ1bmN0aW9uIHNldFRyYWNrUGFubmluZyhzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUudHJhY2tQYW5uaW5nID0gdmFsdWU7CiAgICB9LAogICAgc2V0Q2xpY2tQYW5uaW5nOiBmdW5jdGlvbiBzZXRDbGlja1Bhbm5pbmcoc3RhdGUsIHZhbHVlKSB7CiAgICAgIHN0YXRlLmNsaWNrUGFubmluZyA9IHZhbHVlOwogICAgfSwKICAgIHNldE1pZGlEZXZpY2VOYW1lOiBmdW5jdGlvbiBzZXRNaWRpRGV2aWNlTmFtZShzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUubWlkaURldmljZU5hbWUgPSB2YWx1ZTsKICAgIH0sCiAgICBzZXRDb250cm9sRWRpdDogZnVuY3Rpb24gc2V0Q29udHJvbEVkaXQoc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIGtleSA9IF9yZWYua2V5LAogICAgICAgICAgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICBzdGF0ZS5jb250cm9sRWRpdE1hcFtrZXldID0gdmFsdWU7CiAgICB9LAogICAgc2V0TWFzdGVyVHJhY2tHYWluVmFsdWU6IGZ1bmN0aW9uIHNldE1hc3RlclRyYWNrR2FpblZhbHVlKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS50cmFja0dhaW5WYWx1ZSA9IHZhbHVlOwogICAgfSwKICAgIHNldENsaWNrR2FpblZhbHVlOiBmdW5jdGlvbiBzZXRDbGlja0dhaW5WYWx1ZShzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUuY2xpY2tHYWluVmFsdWUgPSB2YWx1ZTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIHNldE1hc3RlclRyYWNrR2FpblZhbHVlOiBmdW5jdGlvbiBzZXRNYXN0ZXJUcmFja0dhaW5WYWx1ZShfcmVmMiwgdmFsdWUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwKICAgICAgICAgIHJvb3RTdGF0ZSA9IF9yZWYyLnJvb3RTdGF0ZSwKICAgICAgICAgIHN0YXRlID0gX3JlZjIuc3RhdGU7CiAgICAgIGNvbW1pdCgnc2V0TWFzdGVyVHJhY2tHYWluVmFsdWUnLCB2YWx1ZSk7CiAgICAgIHJvb3RTdGF0ZS50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHsKICAgICAgICByZXR1cm4gc2V0VHJhY2tHYWluKHRyYWNrLCBzdGF0ZSwgcm9vdFN0YXRlKTsKICAgICAgfSk7CiAgICAgIHNhdmVTZXR0aW5ncygpOwogICAgfSwKICAgIHNldFRyYWNrUGFubmluZzogZnVuY3Rpb24gc2V0VHJhY2tQYW5uaW5nKF9yZWYzLCB2YWx1ZSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBjb21taXQoJ3NldFRyYWNrUGFubmluZycsIHZhbHVlKTsKICAgICAgdHJhY2tzU3RlcmVvUGFubmVyTm9kZS5wYW4udmFsdWUgPSB2YWx1ZTsKICAgICAgc2F2ZVNldHRpbmdzKCk7CiAgICB9LAogICAgc2V0Q2xpY2tQYW5uaW5nOiBmdW5jdGlvbiBzZXRDbGlja1Bhbm5pbmcoX3JlZjQsIHZhbHVlKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgIGNvbW1pdCgnc2V0Q2xpY2tQYW5uaW5nJywgdmFsdWUpOwogICAgICBzZXRDbGlja1Bhbih2YWx1ZSk7CiAgICAgIHNhdmVTZXR0aW5ncygpOwogICAgfSwKICAgIHNldE1pZGlEZXZpY2VOYW1lOiBmdW5jdGlvbiBzZXRNaWRpRGV2aWNlTmFtZShfcmVmNSwgdmFsdWUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdCwKICAgICAgICAgIHJvb3RTdGF0ZSA9IF9yZWY1LnJvb3RTdGF0ZSwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjUuZGlzcGF0Y2g7CiAgICAgIGNvbW1pdCgnc2V0TWlkaURldmljZU5hbWUnLCB2YWx1ZSk7CiAgICAgIGluaXRNaWRpRXZlbnRzKHZhbHVlLCB7CiAgICAgICAgcm9vdFN0YXRlOiByb290U3RhdGUsCiAgICAgICAgZGlzcGF0Y2g6IGRpc3BhdGNoCiAgICAgIH0pOwogICAgICBzYXZlU2V0dGluZ3MoKTsKICAgIH0sCiAgICBzZXRDb250cm9sRWRpdDogZnVuY3Rpb24gc2V0Q29udHJvbEVkaXQoX3JlZjYsIF9yZWY3KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNi5jb21taXQsCiAgICAgICAgICByb290U3RhdGUgPSBfcmVmNi5yb290U3RhdGU7CiAgICAgIHZhciB0eXBlID0gX3JlZjcudHlwZSwKICAgICAgICAgIHZhbHVlID0gX3JlZjcudmFsdWU7CiAgICAgIGNvbW1pdCgnc2V0Q29udHJvbEVkaXQnLCB7CiAgICAgICAga2V5OiByb290U3RhdGUuY29udHJvbEVkaXRTZWxlY3RlZCwKICAgICAgICB2YWx1ZTogewogICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHNhdmVTZXR0aW5ncygpOwogICAgfSwKICAgIHNldENsaWNrR2FpblZhbHVlOiBmdW5jdGlvbiBzZXRDbGlja0dhaW5WYWx1ZShfcmVmOCwgdmFsdWUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY4LmNvbW1pdDsKICAgICAgY29tbWl0KCdzZXRDbGlja0dhaW5WYWx1ZScsIHZhbHVlKTsKICAgICAgc2V0Q2xpY2tHYWluKHZhbHVlKTsKICAgICAgc2F2ZVNldHRpbmdzKCk7CiAgICB9LAogICAgdHJpZ2dlckNvbnRyb2xBY3Rpb246IGZ1bmN0aW9uIHRyaWdnZXJDb250cm9sQWN0aW9uKF9yZWY5LCBldmVudFZhbHVlKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWY5LnN0YXRlLAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmOS5kaXNwYXRjaDsKICAgICAgT2JqZWN0LmVudHJpZXMoc3RhdGUuY29udHJvbEVkaXRNYXApLmZpbmQoZnVuY3Rpb24gKF9yZWYxMCkgewogICAgICAgIHZhciBfcmVmMTEgPSBfc2xpY2VkVG9BcnJheShfcmVmMTAsIDIpLAogICAgICAgICAgICBhY3Rpb24gPSBfcmVmMTFbMF0sCiAgICAgICAgICAgIG1hcFZhbHVlID0gX3JlZjExWzFdOwoKICAgICAgICBpZiAobWFwVmFsdWUudHlwZSA9PT0gZXZlbnRWYWx1ZS50eXBlICYmIG1hcFZhbHVlLnZhbHVlID09PSBldmVudFZhbHVlLnZhbHVlKSB7CiAgICAgICAgICBkaXNwYXRjaChhY3Rpb24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaW5pdFNldHRpbmdzOiBmdW5jdGlvbiBpbml0U2V0dGluZ3MoX3JlZjEyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBkaXNwYXRjaCwgcm9vdFN0YXRlLCBzZXR0aW5nczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYxMi5zdGF0ZSwgZGlzcGF0Y2ggPSBfcmVmMTIuZGlzcGF0Y2gsIHJvb3RTdGF0ZSA9IF9yZWYxMi5yb290U3RhdGU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBnZXQoJ3NldHRpbmdzJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHNldHRpbmdzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIHNldHRpbmdzKTsKCiAgICAgICAgICAgICAgICBpZiAoc3RhdGUubWlkaURldmljZU5hbWUpIHsKICAgICAgICAgICAgICAgICAgaW5pdE1pZGlFdmVudHMoc3RhdGUubWlkaURldmljZU5hbWUsIHsKICAgICAgICAgICAgICAgICAgICByb290U3RhdGU6IHJvb3RTdGF0ZSwKICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaDogZGlzcGF0Y2gKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07CgpmdW5jdGlvbiBzYXZlU2V0dGluZ3MoKSB7CiAgc2V0KCdzZXR0aW5ncycsIHN0b3JlLnN0YXRlKTsKfQoKZXhwb3J0IGRlZmF1bHQgc3RvcmU7"},{"version":3,"sources":["/home/shahrad/Documents/multiplayer/src/store/settings.js"],"names":["setClickPan","setClickGain","initMidiEvents","setTrackGain","tracksStereoPannerNode","set","get","store","state","trackPanning","clickPanning","midiDeviceName","clickGainValue","trackGainValue","controlEditMap","getters","getControlMapping","controlName","mutations","setTrackPanning","value","setClickPanning","setMidiDeviceName","setControlEdit","key","setMasterTrackGainValue","setClickGainValue","actions","commit","rootState","tracks","forEach","track","saveSettings","pan","dispatch","type","controlEditSelected","triggerControlAction","eventValue","Object","entries","find","action","mapValue","initSettings","settings","assign"],"mappings":"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","sourcesContent":["import { setClickPan, setClickGain } from '../click';\nimport { initMidiEvents } from '../midi';\nimport { setTrackGain, tracksStereoPannerNode } from '../tracks';\nimport { set, get } from '../database';\n\nconst store = {\n  state: {\n    trackPanning: 0,\n    clickPanning: 0,\n    midiDeviceName: null,\n    clickGainValue: 1,\n    trackGainValue: 1,\n    /**\n     * { [actionName]: { type: 'note' | 'controlChange' | 'key', value: any } }\n     */\n    controlEditMap: {}\n  },\n  getters: {\n    getControlMapping(state) {\n      return controlName => state.controlEditMap[controlName];\n    }\n  },\n  mutations: {\n    setTrackPanning(state, value) {\n      state.trackPanning = value;\n    },\n    setClickPanning(state, value) {\n      state.clickPanning = value;\n    },\n    setMidiDeviceName(state, value) {\n      state.midiDeviceName = value;\n    },\n    setControlEdit(state, { key, value }) {\n      state.controlEditMap[key] = value;\n    },\n    setMasterTrackGainValue(state, value) {\n      state.trackGainValue = value;\n    },\n    setClickGainValue(state, value) {\n      state.clickGainValue = value;\n    }\n  },\n  actions: {\n    setMasterTrackGainValue({ commit, rootState, state }, value) {\n      commit('setMasterTrackGainValue', value);\n      rootState.tracks.forEach(track => setTrackGain(track, state, rootState));\n      saveSettings();\n    },\n    setTrackPanning({ commit }, value) {\n      commit('setTrackPanning', value);\n      tracksStereoPannerNode.pan.value = value;\n      saveSettings();\n    },\n    setClickPanning({ commit }, value) {\n      commit('setClickPanning', value);\n      setClickPan(value);\n      saveSettings();\n    },\n    setMidiDeviceName({ commit, rootState, dispatch }, value) {\n      commit('setMidiDeviceName', value);\n      initMidiEvents(value, { rootState, dispatch });\n      saveSettings();\n    },\n    setControlEdit({ commit, rootState }, { type, value }) {\n      commit('setControlEdit', {\n        key: rootState.controlEditSelected,\n        value: { type, value }\n      });\n      saveSettings();\n    },\n    setClickGainValue({ commit }, value) {\n      commit('setClickGainValue', value);\n      setClickGain(value);\n      saveSettings();\n    },\n    triggerControlAction({ state, dispatch }, eventValue) {\n      Object.entries(state.controlEditMap).find(([action, mapValue]) => {\n        if (\n          mapValue.type === eventValue.type &&\n          mapValue.value === eventValue.value\n        ) {\n          dispatch(action);\n        }\n      });\n    },\n    async initSettings({ state, dispatch, rootState }) {\n      const settings = await get('settings');\n      Object.assign(state, settings);\n      if (state.midiDeviceName) {\n        initMidiEvents(state.midiDeviceName, { rootState, dispatch });\n      }\n    }\n  }\n};\n\nfunction saveSettings() {\n  set('settings', store.state);\n}\n\nexport default store;\n"]}]}