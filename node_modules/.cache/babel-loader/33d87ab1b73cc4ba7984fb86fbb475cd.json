{"remainingRequest":"/home/shahrad/Documents/shahradj.github.io/node_modules/babel-loader/lib/index.js!/home/shahrad/Documents/shahradj.github.io/src/store/index.js","dependencies":[{"path":"/home/shahrad/Documents/shahradj.github.io/src/store/index.js","mtime":1692678546712},{"path":"/home/shahrad/Documents/shahradj.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1692677374760},{"path":"/home/shahrad/Documents/shahradj.github.io/node_modules/babel-loader/lib/index.js","mtime":1692677374684}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBjbGlja0V2ZW50TG9vcCwgc2V0Q2xpY2tFdmVudExvb3BDb3VudCwgZ2V0Q2xpY2tCZWF0cywgZ2V0Q2xpY2tJbnRlcnZhbCB9IGZyb20gJy4uL2NsaWNrJzsKaW1wb3J0IHNldHRpbmdzIGZyb20gJy4vc2V0dGluZ3MnOwppbXBvcnQgeyB0cmFja3NBdWRpb0NvbnRleHQsIG5ld1RyYWNrLCBzZXRUcmFja0dhaW4sIHBsYXlUcmFja3MgfSBmcm9tICcuLi90cmFja3MnOwpWdWUudXNlKFZ1ZXgpOwp2YXIgZXZlbnRMb29wU3RhcnQgPSB0cmFja3NBdWRpb0NvbnRleHQuY3VycmVudFRpbWU7CnZhciB0cmFja0V2ZW50TG9vcENvdW50ID0gMDsKdmFyIHN0b3JlID0gbmV3IFZ1ZXguU3RvcmUoewogIG1vZHVsZXM6IHsKICAgIHNldHRpbmdzOiBzZXR0aW5ncwogIH0sCiAgc3RhdGU6IHsKICAgIHBsYXlTdGF0ZTogJ3N0b3BwZWQnLAogICAgcGxheVBvc2l0aW9uOiAwLAogICAgdHJhY2tzOiBbXSwKICAgIGNsaWNrQWN0aXZlOiBmYWxzZSwKICAgIGNsaWNrQnBtOiAxMDIsCiAgICBzb2xvVHJhY2s6IG51bGwsCiAgICBkaWFsb2c6IG51bGwsCiAgICBsb2FkaW5nOiB0cnVlLAogICAgY2xpY2tUaW1lU2lnbmF0dXJlOiB7CiAgICAgIGJlYXRzOiA0LAogICAgICB1bml0OiA0CiAgICB9LAogICAgY29udHJvbEVkaXRNb2RlOiBudWxsLAogICAgY29udHJvbEVkaXRTZWxlY3RlZDogbnVsbAogIH0sCiAgZ2V0dGVyczogewogICAgZ2V0VHJhY2s6IGZ1bmN0aW9uIGdldFRyYWNrKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAodHJhY2spIHsKICAgICAgICByZXR1cm4gc3RhdGUudHJhY2tzLmZpbmQoZnVuY3Rpb24gKF8pIHsKICAgICAgICAgIHJldHVybiBfID09PSB0cmFjazsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0sCiAgICBwbGF5QmVhdHNQb3NpdGlvbjogZnVuY3Rpb24gcGxheUJlYXRzUG9zaXRpb24oc3RhdGUpIHsKICAgICAgcmV0dXJuIGdldENsaWNrQmVhdHMoc3RhdGUpOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRQbGF5U3RhdGU6IGZ1bmN0aW9uIHNldFBsYXlTdGF0ZShzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUucGxheVN0YXRlID0gdmFsdWU7CiAgICB9LAoKICAgIC8qKgogICAgICogQHBhcmFtIHtUcmFja30gdHJhY2sKICAgICAqLwogICAgYWRkVHJhY2s6IGZ1bmN0aW9uIGFkZFRyYWNrKHN0YXRlLCB0cmFjaykgewogICAgICBzdGF0ZS50cmFja3MucHVzaCh0cmFjayk7CiAgICB9LAogICAgcmVtb3ZlVHJhY2s6IGZ1bmN0aW9uIHJlbW92ZVRyYWNrKHN0YXRlLCB0cmFjaykgewogICAgICBzdGF0ZS50cmFja3Muc3BsaWNlKHN0YXRlLnRyYWNrcy5pbmRleE9mKHRyYWNrKSwgMSk7CiAgICB9LAogICAgc2V0Q2xpY2tBY3RpdmU6IGZ1bmN0aW9uIHNldENsaWNrQWN0aXZlKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5jbGlja0FjdGl2ZSA9IHZhbHVlOwogICAgfSwKICAgIHNldFBsYXlQb3NpdGlvbjogZnVuY3Rpb24gc2V0UGxheVBvc2l0aW9uKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5wbGF5UG9zaXRpb24gPSB2YWx1ZTsKICAgIH0sCiAgICBzZXRUcmFja0FjdGl2ZTogZnVuY3Rpb24gc2V0VHJhY2tBY3RpdmUoc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIHRyYWNrID0gX3JlZi50cmFjaywKICAgICAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTsKICAgICAgdHJhY2suYWN0aXZlID0gdmFsdWU7CiAgICB9LAogICAgc2V0U29sb1RyYWNrOiBmdW5jdGlvbiBzZXRTb2xvVHJhY2soc3RhdGUsIHRyYWNrKSB7CiAgICAgIHN0YXRlLnNvbG9UcmFjayA9IHRyYWNrOwogICAgfSwKICAgIHNldERpYWxvZzogZnVuY3Rpb24gc2V0RGlhbG9nKHN0YXRlLCBkaWFsb2cpIHsKICAgICAgc3RhdGUuZGlhbG9nID0gZGlhbG9nOwogICAgfSwKICAgIHNldENsaWNrQnBtOiBmdW5jdGlvbiBzZXRDbGlja0JwbShzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUuY2xpY2tCcG0gPSB2YWx1ZTsKICAgIH0sCiAgICBzZXRMb2FkaW5nOiBmdW5jdGlvbiBzZXRMb2FkaW5nKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5sb2FkaW5nID0gdmFsdWU7CiAgICB9LAogICAgc2V0Q2xpY2tUaW1lU2lnbmF0dXJlOiBmdW5jdGlvbiBzZXRDbGlja1RpbWVTaWduYXR1cmUoc3RhdGUsIHZhbHVlKSB7CiAgICAgIHN0YXRlLmNsaWNrVGltZVNpZ25hdHVyZSA9IHZhbHVlOwogICAgfSwKICAgIHNldENvbnRyb2xFZGl0TW9kZTogZnVuY3Rpb24gc2V0Q29udHJvbEVkaXRNb2RlKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5jb250cm9sRWRpdE1vZGUgPSB2YWx1ZTsKICAgIH0sCiAgICBzZXRDb250cm9sRWRpdFNlbGVjdGVkOiBmdW5jdGlvbiBzZXRDb250cm9sRWRpdFNlbGVjdGVkKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5jb250cm9sRWRpdFNlbGVjdGVkID0gdmFsdWU7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBwbGF5UGF1c2U6IGZ1bmN0aW9uIHBsYXlQYXVzZShfcmVmMikgewogICAgICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZSwKICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgdmFyIHN0YXRlcyA9IHsKICAgICAgICBzdG9wcGVkOiAncGxheWluZycsCiAgICAgICAgcGF1c2VkOiAncGxheWluZycsCiAgICAgICAgcGxheWluZzogJ3BhdXNlZCcKICAgICAgfTsKICAgICAgdmFyIG5ld1N0YXRlID0gc3RhdGVzW3N0YXRlLnBsYXlTdGF0ZV07CiAgICAgIGNvbW1pdCgnc2V0UGxheVN0YXRlJywgbmV3U3RhdGUpOwoKICAgICAgaWYgKHRyYWNrc0F1ZGlvQ29udGV4dC5zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcpIHsKICAgICAgICB0cmFja3NBdWRpb0NvbnRleHQucmVzdW1lKCk7CiAgICAgIH0KCiAgICAgIGlmIChuZXdTdGF0ZSA9PT0gJ3BsYXlpbmcnKSB7CiAgICAgICAgZXZlbnRMb29wU3RhcnQgPSB0cmFja3NBdWRpb0NvbnRleHQuY3VycmVudFRpbWU7CiAgICAgICAgdHJhY2tFdmVudExvb3BDb3VudCA9IDA7CiAgICAgICAgcGxheVRyYWNrcyhzdGF0ZS50cmFja3MsIHN0YXRlLnBsYXlQb3NpdGlvbik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhdGUudHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7CiAgICAgICAgICByZXR1cm4gdHJhY2sucGF1c2UoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHBsYXlBdDogZnVuY3Rpb24gcGxheUF0KF9yZWYzLCBwbGF5UG9zaXRpb24pIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZjMuc3RhdGUsCiAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoOwogICAgICBkaXNwYXRjaCgnc2V0UGxheVBvc2l0aW9uJywgcGxheVBvc2l0aW9uKTsKICAgICAgc2V0Q2xpY2tFdmVudExvb3BDb3VudChNYXRoLmZsb29yKHBsYXlQb3NpdGlvbiAvIGdldENsaWNrSW50ZXJ2YWwoc3RhdGUpKSk7CiAgICAgIHBsYXlUcmFja3Moc3RhdGUudHJhY2tzLCBzdGF0ZS5wbGF5UG9zaXRpb24pOwogICAgfSwKICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGU7CgogICAgICBpZiAoc3RhdGUucGxheVN0YXRlID09PSAncGxheWluZycpIHsKICAgICAgICBzdGF0ZS50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHsKICAgICAgICAgIHJldHVybiB0cmFjay5zdG9wKCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGNvbW1pdCgnc2V0UGxheVN0YXRlJywgJ3N0b3BwZWQnKTsKICAgICAgY29tbWl0KCdzZXRQbGF5UG9zaXRpb24nLCAwKTsKICAgICAgc2V0Q2xpY2tFdmVudExvb3BDb3VudCgwKTsKICAgICAgc3RhdGUudHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7CiAgICAgICAgcmV0dXJuIHRyYWNrLmV2ZW50TG9vcChzdG9yZS5zdGF0ZS5wbGF5UG9zaXRpb24pOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRUcmFjazogZnVuY3Rpb24gYWRkVHJhY2soX3JlZjUsIF9yZWY2KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgIHZhciBuYW1lID0gX3JlZjYubmFtZSwKICAgICAgICAgIGFycmF5QnVmZmVyID0gX3JlZjYuYXJyYXlCdWZmZXI7CiAgICAgIGNvbW1pdCgnYWRkVHJhY2snLCBuZXdUcmFjayh7CiAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICBhcnJheUJ1ZmZlcjogYXJyYXlCdWZmZXIKICAgICAgfSkpOwogICAgfSwKICAgIHJlbW92ZVRyYWNrOiBmdW5jdGlvbiByZW1vdmVUcmFjayhfcmVmNywgdHJhY2spIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY3LmNvbW1pdDsKICAgICAgY29tbWl0KCdyZW1vdmVUcmFjaycsIHRyYWNrKTsKICAgIH0sCiAgICB0b2dnbGVDbGlja0FjdGl2ZTogZnVuY3Rpb24gdG9nZ2xlQ2xpY2tBY3RpdmUoX3JlZjgpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY4LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjguc3RhdGU7CiAgICAgIGNvbW1pdCgnc2V0Q2xpY2tBY3RpdmUnLCAhc3RhdGUuY2xpY2tBY3RpdmUpOwogICAgfSwKICAgIHNldFRyYWNrR2FpblZhbHVlOiBmdW5jdGlvbiBzZXRUcmFja0dhaW5WYWx1ZShfcmVmOSwgX3JlZjEwKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWY5LnN0YXRlOwogICAgICB2YXIgdHJhY2sgPSBfcmVmMTAudHJhY2ssCiAgICAgICAgICB2YWx1ZSA9IF9yZWYxMC52YWx1ZTsKICAgICAgdHJhY2suZ2FpblZhbHVlID0gdmFsdWU7CiAgICAgIHNldFRyYWNrR2Fpbih0cmFjaywgc3RhdGUuc2V0dGluZ3MsIHN0YXRlKTsKICAgIH0sCiAgICBzZXRUcmFja0FjdGl2ZTogZnVuY3Rpb24gc2V0VHJhY2tBY3RpdmUoX3JlZjExLCBfcmVmMTIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYxMS5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWYxMS5zdGF0ZTsKICAgICAgdmFyIHRyYWNrID0gX3JlZjEyLnRyYWNrLAogICAgICAgICAgdmFsdWUgPSBfcmVmMTIudmFsdWU7CiAgICAgIGNvbW1pdCgnc2V0VHJhY2tBY3RpdmUnLCB7CiAgICAgICAgdHJhY2s6IHRyYWNrLAogICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICB9KTsKICAgICAgc2V0VHJhY2tHYWluKHRyYWNrLCBzdGF0ZS5zZXR0aW5ncywgc3RhdGUpOwogICAgfSwKICAgIHNldFNvbG9UcmFjazogZnVuY3Rpb24gc2V0U29sb1RyYWNrKF9yZWYxMywgdHJhY2spIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYxMy5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWYxMy5zdGF0ZTsKICAgICAgY29tbWl0KCdzZXRTb2xvVHJhY2snLCB0cmFjayk7CiAgICAgIHN0YXRlLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykgewogICAgICAgIHJldHVybiBzZXRUcmFja0dhaW4odHJhY2ssIHN0YXRlLnNldHRpbmdzLCBzdGF0ZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHRvZ2dsZVNldHRpbmdzRGlhbG9nOiBmdW5jdGlvbiB0b2dnbGVTZXR0aW5nc0RpYWxvZyhfcmVmMTQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYxNC5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWYxNC5zdGF0ZTsKICAgICAgY29tbWl0KCdzZXREaWFsb2cnLCBzdGF0ZS5kaWFsb2cgPT09ICdzZXR0aW5ncycgPyBudWxsIDogJ3NldHRpbmdzJyk7CiAgICB9LAogICAgdG9nZ2xlQWJvdXREaWFsb2c6IGZ1bmN0aW9uIHRvZ2dsZUFib3V0RGlhbG9nKF9yZWYxNSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjE1LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjE1LnN0YXRlOwogICAgICBjb21taXQoJ3NldERpYWxvZycsIHN0YXRlLmRpYWxvZyA9PT0gJ2Fib3V0JyA/IG51bGwgOiAnYWJvdXQnKTsKICAgIH0sCiAgICBzZXRDbGlja0JwbTogZnVuY3Rpb24gc2V0Q2xpY2tCcG0oX3JlZjE2LCB2YWx1ZSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjE2LmNvbW1pdDsKICAgICAgY29tbWl0KCdzZXRDbGlja0JwbScsIHZhbHVlKTsKICAgIH0sCiAgICBzZXRDbGlja1RpbWVTaWduYXR1cmU6IGZ1bmN0aW9uIHNldENsaWNrVGltZVNpZ25hdHVyZShfcmVmMTcsIHZhbHVlKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMTcuY29tbWl0OwogICAgICBjb21taXQoJ3NldENsaWNrVGltZVNpZ25hdHVyZScsIHZhbHVlKTsKICAgIH0sCiAgICB0b2dnbGVDb250cm9sRWRpdE1vZGU6IGZ1bmN0aW9uIHRvZ2dsZUNvbnRyb2xFZGl0TW9kZShfcmVmMTgpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYxOC5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWYxOC5zdGF0ZTsKICAgICAgY29tbWl0KCdzZXRDb250cm9sRWRpdE1vZGUnLCAhc3RhdGUuY29udHJvbEVkaXRNb2RlKTsKICAgICAgY29tbWl0KCdzZXREaWFsb2cnLCBudWxsKTsKICAgIH0sCiAgICBzZXRDb250cm9sRWRpdFNlbGVjdGVkOiBmdW5jdGlvbiBzZXRDb250cm9sRWRpdFNlbGVjdGVkKF9yZWYxOSwgdmFsdWUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYxOS5jb21taXQ7CiAgICAgIGNvbW1pdCgnc2V0Q29udHJvbEVkaXRTZWxlY3RlZCcsIHZhbHVlKTsKICAgIH0sCiAgICBzZXRQbGF5UG9zaXRpb246IGZ1bmN0aW9uIHNldFBsYXlQb3NpdGlvbihfcmVmMjAsIHZhbHVlKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMjAuY29tbWl0OwogICAgICBjb21taXQoJ3NldFBsYXlQb3NpdGlvbicsIHZhbHVlKTsKICAgIH0KICB9Cn0pOwp2YXIgdHJhY2tFdmVudExvb3BJbnRlcnZhbCA9IDAuMDE7CnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICBpZiAoc3RvcmUuc3RhdGUucGxheVN0YXRlID09PSAncGxheWluZycpIHsKICAgIHZhciB0cmFja0RlbHRhID0gdHJhY2tzQXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lIC0gZXZlbnRMb29wU3RhcnQ7CgogICAgaWYgKHRyYWNrRGVsdGEgLyB0cmFja0V2ZW50TG9vcENvdW50ID4gdHJhY2tFdmVudExvb3BJbnRlcnZhbCkgewogICAgICB0cmFja0V2ZW50TG9vcCgpOwogICAgICB0cmFja0V2ZW50TG9vcENvdW50Kys7CiAgICB9CgogICAgY2xpY2tFdmVudExvb3Aoc3RvcmUpOwogIH0KfSwgMSk7CgpmdW5jdGlvbiB0cmFja0V2ZW50TG9vcCgpIHsKICBzdG9yZS5jb21taXQoJ3NldFBsYXlQb3NpdGlvbicsIHN0b3JlLnN0YXRlLnBsYXlQb3NpdGlvbiArIHRyYWNrRXZlbnRMb29wSW50ZXJ2YWwpOwogIHN0b3JlLnN0YXRlLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykgewogICAgcmV0dXJuIHRyYWNrLmV2ZW50TG9vcChzdG9yZS5zdGF0ZS5wbGF5UG9zaXRpb24pOwogIH0pOwp9CgpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["/home/shahrad/Documents/shahradj.github.io/src/store/index.js"],"names":["Vue","Vuex","clickEventLoop","setClickEventLoopCount","getClickBeats","getClickInterval","settings","tracksAudioContext","newTrack","setTrackGain","playTracks","use","eventLoopStart","currentTime","trackEventLoopCount","store","Store","modules","state","playState","playPosition","tracks","clickActive","clickBpm","soloTrack","dialog","loading","clickTimeSignature","beats","unit","controlEditMode","controlEditSelected","getters","getTrack","track","find","_","playBeatsPosition","mutations","setPlayState","value","addTrack","push","removeTrack","splice","indexOf","setClickActive","setPlayPosition","setTrackActive","active","setSoloTrack","setDialog","setClickBpm","setLoading","setClickTimeSignature","setControlEditMode","setControlEditSelected","actions","playPause","commit","states","stopped","paused","playing","newState","resume","forEach","pause","playAt","dispatch","Math","floor","stop","eventLoop","name","arrayBuffer","toggleClickActive","setTrackGainValue","gainValue","toggleSettingsDialog","toggleAboutDialog","toggleControlEditMode","trackEventLoopInterval","setInterval","trackDelta","trackEventLoop"],"mappings":";;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SACEC,cADF,EAEEC,sBAFF,EAGEC,aAHF,EAIEC,gBAJF,QAKO,UALP;AAMA,OAAOC,QAAP,MAAqB,YAArB;AAEA,SACEC,kBADF,EAEEC,QAFF,EAGEC,YAHF,EAIEC,UAJF,QAKO,WALP;AAOAV,GAAG,CAACW,GAAJ,CAAQV,IAAR;AAEA,IAAIW,cAAc,GAAGL,kBAAkB,CAACM,WAAxC;AACA,IAAIC,mBAAmB,GAAG,CAA1B;AAEA,IAAMC,KAAK,GAAG,IAAId,IAAI,CAACe,KAAT,CAAe;AAC3BC,EAAAA,OAAO,EAAE;AACPX,IAAAA,QAAQ,EAARA;AADO,GADkB;AAI3BY,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE,SADN;AAELC,IAAAA,YAAY,EAAE,CAFT;AAGLC,IAAAA,MAAM,EAAE,EAHH;AAILC,IAAAA,WAAW,EAAE,KAJR;AAKLC,IAAAA,QAAQ,EAAE,GALL;AAMLC,IAAAA,SAAS,EAAE,IANN;AAOLC,IAAAA,MAAM,EAAE,IAPH;AAQLC,IAAAA,OAAO,EAAE,IARJ;AASLC,IAAAA,kBAAkB,EAAE;AAClBC,MAAAA,KAAK,EAAE,CADW;AAElBC,MAAAA,IAAI,EAAE;AAFY,KATf;AAaLC,IAAAA,eAAe,EAAE,IAbZ;AAcLC,IAAAA,mBAAmB,EAAE;AAdhB,GAJoB;AAoB3BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,QADO,oBACEf,KADF,EACS;AACd,aAAO,UAAAgB,KAAK;AAAA,eAAIhB,KAAK,CAACG,MAAN,CAAac,IAAb,CAAkB,UAAAC,CAAC;AAAA,iBAAIA,CAAC,KAAKF,KAAV;AAAA,SAAnB,CAAJ;AAAA,OAAZ;AACD,KAHM;AAIPG,IAAAA,iBAJO,6BAIWnB,KAJX,EAIkB;AACvB,aAAOd,aAAa,CAACc,KAAD,CAApB;AACD;AANM,GApBkB;AA4B3BoB,EAAAA,SAAS,EAAE;AACTC,IAAAA,YADS,wBACIrB,KADJ,EACWsB,KADX,EACkB;AACzBtB,MAAAA,KAAK,CAACC,SAAN,GAAkBqB,KAAlB;AACD,KAHQ;;AAIT;;;AAGAC,IAAAA,QAPS,oBAOAvB,KAPA,EAOOgB,KAPP,EAOc;AACrBhB,MAAAA,KAAK,CAACG,MAAN,CAAaqB,IAAb,CAAkBR,KAAlB;AACD,KATQ;AAUTS,IAAAA,WAVS,uBAUGzB,KAVH,EAUUgB,KAVV,EAUiB;AACxBhB,MAAAA,KAAK,CAACG,MAAN,CAAauB,MAAb,CAAoB1B,KAAK,CAACG,MAAN,CAAawB,OAAb,CAAqBX,KAArB,CAApB,EAAiD,CAAjD;AACD,KAZQ;AAaTY,IAAAA,cAbS,0BAaM5B,KAbN,EAaasB,KAbb,EAaoB;AAC3BtB,MAAAA,KAAK,CAACI,WAAN,GAAoBkB,KAApB;AACD,KAfQ;AAgBTO,IAAAA,eAhBS,2BAgBO7B,KAhBP,EAgBcsB,KAhBd,EAgBqB;AAC5BtB,MAAAA,KAAK,CAACE,YAAN,GAAqBoB,KAArB;AACD,KAlBQ;AAoBTQ,IAAAA,cApBS,0BAoBM9B,KApBN,QAoB+B;AAAA,UAAhBgB,KAAgB,QAAhBA,KAAgB;AAAA,UAATM,KAAS,QAATA,KAAS;AACtCN,MAAAA,KAAK,CAACe,MAAN,GAAeT,KAAf;AACD,KAtBQ;AAuBTU,IAAAA,YAvBS,wBAuBIhC,KAvBJ,EAuBWgB,KAvBX,EAuBkB;AACzBhB,MAAAA,KAAK,CAACM,SAAN,GAAkBU,KAAlB;AACD,KAzBQ;AA0BTiB,IAAAA,SA1BS,qBA0BCjC,KA1BD,EA0BQO,MA1BR,EA0BgB;AACvBP,MAAAA,KAAK,CAACO,MAAN,GAAeA,MAAf;AACD,KA5BQ;AA6BT2B,IAAAA,WA7BS,uBA6BGlC,KA7BH,EA6BUsB,KA7BV,EA6BiB;AACxBtB,MAAAA,KAAK,CAACK,QAAN,GAAiBiB,KAAjB;AACD,KA/BQ;AAgCTa,IAAAA,UAhCS,sBAgCEnC,KAhCF,EAgCSsB,KAhCT,EAgCgB;AACvBtB,MAAAA,KAAK,CAACQ,OAAN,GAAgBc,KAAhB;AACD,KAlCQ;AAmCTc,IAAAA,qBAnCS,iCAmCapC,KAnCb,EAmCoBsB,KAnCpB,EAmC2B;AAClCtB,MAAAA,KAAK,CAACS,kBAAN,GAA2Ba,KAA3B;AACD,KArCQ;AAsCTe,IAAAA,kBAtCS,8BAsCUrC,KAtCV,EAsCiBsB,KAtCjB,EAsCwB;AAC/BtB,MAAAA,KAAK,CAACY,eAAN,GAAwBU,KAAxB;AACD,KAxCQ;AAyCTgB,IAAAA,sBAzCS,kCAyCctC,KAzCd,EAyCqBsB,KAzCrB,EAyC4B;AACnCtB,MAAAA,KAAK,CAACa,mBAAN,GAA4BS,KAA5B;AACD;AA3CQ,GA5BgB;AAyE3BiB,EAAAA,OAAO,EAAE;AACPC,IAAAA,SADO,4BACsB;AAAA,UAAjBxC,KAAiB,SAAjBA,KAAiB;AAAA,UAAVyC,MAAU,SAAVA,MAAU;AAC3B,UAAMC,MAAM,GAAG;AACbC,QAAAA,OAAO,EAAE,SADI;AAEbC,QAAAA,MAAM,EAAE,SAFK;AAGbC,QAAAA,OAAO,EAAE;AAHI,OAAf;AAKA,UAAMC,QAAQ,GAAGJ,MAAM,CAAC1C,KAAK,CAACC,SAAP,CAAvB;AACAwC,MAAAA,MAAM,CAAC,cAAD,EAAiBK,QAAjB,CAAN;;AACA,UAAIzD,kBAAkB,CAACW,KAAnB,KAA6B,WAAjC,EAA8C;AAC5CX,QAAAA,kBAAkB,CAAC0D,MAAnB;AACD;;AACD,UAAID,QAAQ,KAAK,SAAjB,EAA4B;AAC1BpD,QAAAA,cAAc,GAAGL,kBAAkB,CAACM,WAApC;AACAC,QAAAA,mBAAmB,GAAG,CAAtB;AACAJ,QAAAA,UAAU,CAACQ,KAAK,CAACG,MAAP,EAAeH,KAAK,CAACE,YAArB,CAAV;AACD,OAJD,MAIO;AACLF,QAAAA,KAAK,CAACG,MAAN,CAAa6C,OAAb,CAAqB,UAAAhC,KAAK;AAAA,iBAAIA,KAAK,CAACiC,KAAN,EAAJ;AAAA,SAA1B;AACD;AACF,KAnBM;AAoBPC,IAAAA,MApBO,yBAoBqBhD,YApBrB,EAoBmC;AAAA,UAAjCF,KAAiC,SAAjCA,KAAiC;AAAA,UAA1BmD,QAA0B,SAA1BA,QAA0B;AACxCA,MAAAA,QAAQ,CAAC,iBAAD,EAAoBjD,YAApB,CAAR;AACAjB,MAAAA,sBAAsB,CACpBmE,IAAI,CAACC,KAAL,CAAWnD,YAAY,GAAGf,gBAAgB,CAACa,KAAD,CAA1C,CADoB,CAAtB;AAGAR,MAAAA,UAAU,CAACQ,KAAK,CAACG,MAAP,EAAeH,KAAK,CAACE,YAArB,CAAV;AACD,KA1BM;AA2BPoD,IAAAA,IA3BO,uBA2BiB;AAAA,UAAjBb,MAAiB,SAAjBA,MAAiB;AAAA,UAATzC,KAAS,SAATA,KAAS;;AACtB,UAAIA,KAAK,CAACC,SAAN,KAAoB,SAAxB,EAAmC;AACjCD,QAAAA,KAAK,CAACG,MAAN,CAAa6C,OAAb,CAAqB,UAAAhC,KAAK;AAAA,iBAAIA,KAAK,CAACsC,IAAN,EAAJ;AAAA,SAA1B;AACD;;AACDb,MAAAA,MAAM,CAAC,cAAD,EAAiB,SAAjB,CAAN;AACAA,MAAAA,MAAM,CAAC,iBAAD,EAAoB,CAApB,CAAN;AACAxD,MAAAA,sBAAsB,CAAC,CAAD,CAAtB;AACAe,MAAAA,KAAK,CAACG,MAAN,CAAa6C,OAAb,CAAqB,UAAAhC,KAAK;AAAA,eAAIA,KAAK,CAACuC,SAAN,CAAgB1D,KAAK,CAACG,KAAN,CAAYE,YAA5B,CAAJ;AAAA,OAA1B;AACD,KAnCM;AAoCPqB,IAAAA,QApCO,kCAoCqC;AAAA,UAAjCkB,MAAiC,SAAjCA,MAAiC;AAAA,UAArBe,IAAqB,SAArBA,IAAqB;AAAA,UAAfC,WAAe,SAAfA,WAAe;AAC1ChB,MAAAA,MAAM,CAAC,UAAD,EAAanD,QAAQ,CAAC;AAAEkE,QAAAA,IAAI,EAAJA,IAAF;AAAQC,QAAAA,WAAW,EAAXA;AAAR,OAAD,CAArB,CAAN;AACD,KAtCM;AAuCPhC,IAAAA,WAvCO,8BAuCiBT,KAvCjB,EAuCwB;AAAA,UAAjByB,MAAiB,SAAjBA,MAAiB;AAC7BA,MAAAA,MAAM,CAAC,aAAD,EAAgBzB,KAAhB,CAAN;AACD,KAzCM;AA0CP0C,IAAAA,iBA1CO,oCA0C8B;AAAA,UAAjBjB,MAAiB,SAAjBA,MAAiB;AAAA,UAATzC,KAAS,SAATA,KAAS;AACnCyC,MAAAA,MAAM,CAAC,gBAAD,EAAmB,CAACzC,KAAK,CAACI,WAA1B,CAAN;AACD,KA5CM;AA6CPuD,IAAAA,iBA7CO,4CA6CwC;AAAA,UAA3B3D,KAA2B,SAA3BA,KAA2B;AAAA,UAAhBgB,KAAgB,UAAhBA,KAAgB;AAAA,UAATM,KAAS,UAATA,KAAS;AAC7CN,MAAAA,KAAK,CAAC4C,SAAN,GAAkBtC,KAAlB;AACA/B,MAAAA,YAAY,CAACyB,KAAD,EAAQhB,KAAK,CAACZ,QAAd,EAAwBY,KAAxB,CAAZ;AACD,KAhDM;AAiDP8B,IAAAA,cAjDO,0CAiD6C;AAAA,UAAnCW,MAAmC,UAAnCA,MAAmC;AAAA,UAA3BzC,KAA2B,UAA3BA,KAA2B;AAAA,UAAhBgB,KAAgB,UAAhBA,KAAgB;AAAA,UAATM,KAAS,UAATA,KAAS;AAClDmB,MAAAA,MAAM,CAAC,gBAAD,EAAmB;AAAEzB,QAAAA,KAAK,EAALA,KAAF;AAASM,QAAAA,KAAK,EAALA;AAAT,OAAnB,CAAN;AACA/B,MAAAA,YAAY,CAACyB,KAAD,EAAQhB,KAAK,CAACZ,QAAd,EAAwBY,KAAxB,CAAZ;AACD,KApDM;AAqDPgC,IAAAA,YArDO,gCAqDyBhB,KArDzB,EAqDgC;AAAA,UAAxByB,MAAwB,UAAxBA,MAAwB;AAAA,UAAhBzC,KAAgB,UAAhBA,KAAgB;AACrCyC,MAAAA,MAAM,CAAC,cAAD,EAAiBzB,KAAjB,CAAN;AACAhB,MAAAA,KAAK,CAACG,MAAN,CAAa6C,OAAb,CAAqB,UAAAhC,KAAK;AAAA,eAAIzB,YAAY,CAACyB,KAAD,EAAQhB,KAAK,CAACZ,QAAd,EAAwBY,KAAxB,CAAhB;AAAA,OAA1B;AACD,KAxDM;AAyDP6D,IAAAA,oBAzDO,wCAyDiC;AAAA,UAAjBpB,MAAiB,UAAjBA,MAAiB;AAAA,UAATzC,KAAS,UAATA,KAAS;AACtCyC,MAAAA,MAAM,CAAC,WAAD,EAAczC,KAAK,CAACO,MAAN,KAAiB,UAAjB,GAA8B,IAA9B,GAAqC,UAAnD,CAAN;AACD,KA3DM;AA4DPuD,IAAAA,iBA5DO,qCA4D8B;AAAA,UAAjBrB,MAAiB,UAAjBA,MAAiB;AAAA,UAATzC,KAAS,UAATA,KAAS;AACnCyC,MAAAA,MAAM,CAAC,WAAD,EAAczC,KAAK,CAACO,MAAN,KAAiB,OAAjB,GAA2B,IAA3B,GAAkC,OAAhD,CAAN;AACD,KA9DM;AA+DP2B,IAAAA,WA/DO,+BA+DiBZ,KA/DjB,EA+DwB;AAAA,UAAjBmB,MAAiB,UAAjBA,MAAiB;AAC7BA,MAAAA,MAAM,CAAC,aAAD,EAAgBnB,KAAhB,CAAN;AACD,KAjEM;AAkEPc,IAAAA,qBAlEO,yCAkE2Bd,KAlE3B,EAkEkC;AAAA,UAAjBmB,MAAiB,UAAjBA,MAAiB;AACvCA,MAAAA,MAAM,CAAC,uBAAD,EAA0BnB,KAA1B,CAAN;AACD,KApEM;AAsEPyC,IAAAA,qBAtEO,yCAsEkC;AAAA,UAAjBtB,MAAiB,UAAjBA,MAAiB;AAAA,UAATzC,KAAS,UAATA,KAAS;AACvCyC,MAAAA,MAAM,CAAC,oBAAD,EAAuB,CAACzC,KAAK,CAACY,eAA9B,CAAN;AACA6B,MAAAA,MAAM,CAAC,WAAD,EAAc,IAAd,CAAN;AACD,KAzEM;AA0EPH,IAAAA,sBA1EO,0CA0E4BhB,KA1E5B,EA0EmC;AAAA,UAAjBmB,MAAiB,UAAjBA,MAAiB;AACxCA,MAAAA,MAAM,CAAC,wBAAD,EAA2BnB,KAA3B,CAAN;AACD,KA5EM;AA6EPO,IAAAA,eA7EO,mCA6EqBP,KA7ErB,EA6E4B;AAAA,UAAjBmB,MAAiB,UAAjBA,MAAiB;AACjCA,MAAAA,MAAM,CAAC,iBAAD,EAAoBnB,KAApB,CAAN;AACD;AA/EM;AAzEkB,CAAf,CAAd;AA4JA,IAAM0C,sBAAsB,GAAG,IAA/B;AAEAC,WAAW,CAAC,YAAM;AAChB,MAAIpE,KAAK,CAACG,KAAN,CAAYC,SAAZ,KAA0B,SAA9B,EAAyC;AACvC,QAAMiE,UAAU,GAAG7E,kBAAkB,CAACM,WAAnB,GAAiCD,cAApD;;AACA,QAAIwE,UAAU,GAAGtE,mBAAb,GAAmCoE,sBAAvC,EAA+D;AAC7DG,MAAAA,cAAc;AACdvE,MAAAA,mBAAmB;AACpB;;AAEDZ,IAAAA,cAAc,CAACa,KAAD,CAAd;AACD;AACF,CAVU,EAUR,CAVQ,CAAX;;AAYA,SAASsE,cAAT,GAA0B;AACxBtE,EAAAA,KAAK,CAAC4C,MAAN,CACE,iBADF,EAEE5C,KAAK,CAACG,KAAN,CAAYE,YAAZ,GAA2B8D,sBAF7B;AAIAnE,EAAAA,KAAK,CAACG,KAAN,CAAYG,MAAZ,CAAmB6C,OAAnB,CAA2B,UAAAhC,KAAK;AAAA,WAC9BA,KAAK,CAACuC,SAAN,CAAgB1D,KAAK,CAACG,KAAN,CAAYE,YAA5B,CAD8B;AAAA,GAAhC;AAGD;;AAED,eAAeL,KAAf","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport {\n  clickEventLoop,\n  setClickEventLoopCount,\n  getClickBeats,\n  getClickInterval\n} from '../click';\nimport settings from './settings';\n\nimport {\n  tracksAudioContext,\n  newTrack,\n  setTrackGain,\n  playTracks\n} from '../tracks';\n\nVue.use(Vuex);\n\nlet eventLoopStart = tracksAudioContext.currentTime;\nlet trackEventLoopCount = 0;\n\nconst store = new Vuex.Store({\n  modules: {\n    settings\n  },\n  state: {\n    playState: 'stopped',\n    playPosition: 0,\n    tracks: [],\n    clickActive: false,\n    clickBpm: 102,\n    soloTrack: null,\n    dialog: null,\n    loading: true,\n    clickTimeSignature: {\n      beats: 4,\n      unit: 4\n    },\n    controlEditMode: null,\n    controlEditSelected: null\n  },\n  getters: {\n    getTrack(state) {\n      return track => state.tracks.find(_ => _ === track);\n    },\n    playBeatsPosition(state) {\n      return getClickBeats(state);\n    }\n  },\n  mutations: {\n    setPlayState(state, value) {\n      state.playState = value;\n    },\n    /**\n     * @param {Track} track\n     */\n    addTrack(state, track) {\n      state.tracks.push(track);\n    },\n    removeTrack(state, track) {\n      state.tracks.splice(state.tracks.indexOf(track), 1);\n    },\n    setClickActive(state, value) {\n      state.clickActive = value;\n    },\n    setPlayPosition(state, value) {\n      state.playPosition = value;\n    },\n\n    setTrackActive(state, { track, value }) {\n      track.active = value;\n    },\n    setSoloTrack(state, track) {\n      state.soloTrack = track;\n    },\n    setDialog(state, dialog) {\n      state.dialog = dialog;\n    },\n    setClickBpm(state, value) {\n      state.clickBpm = value;\n    },\n    setLoading(state, value) {\n      state.loading = value;\n    },\n    setClickTimeSignature(state, value) {\n      state.clickTimeSignature = value;\n    },\n    setControlEditMode(state, value) {\n      state.controlEditMode = value;\n    },\n    setControlEditSelected(state, value) {\n      state.controlEditSelected = value;\n    }\n  },\n  actions: {\n    playPause({ state, commit }) {\n      const states = {\n        stopped: 'playing',\n        paused: 'playing',\n        playing: 'paused'\n      };\n      const newState = states[state.playState];\n      commit('setPlayState', newState);\n      if (tracksAudioContext.state === 'suspended') {\n        tracksAudioContext.resume();\n      }\n      if (newState === 'playing') {\n        eventLoopStart = tracksAudioContext.currentTime;\n        trackEventLoopCount = 0;\n        playTracks(state.tracks, state.playPosition);\n      } else {\n        state.tracks.forEach(track => track.pause());\n      }\n    },\n    playAt({ state, dispatch }, playPosition) {\n      dispatch('setPlayPosition', playPosition);\n      setClickEventLoopCount(\n        Math.floor(playPosition / getClickInterval(state))\n      );\n      playTracks(state.tracks, state.playPosition);\n    },\n    stop({ commit, state }) {\n      if (state.playState === 'playing') {\n        state.tracks.forEach(track => track.stop());\n      }\n      commit('setPlayState', 'stopped');\n      commit('setPlayPosition', 0);\n      setClickEventLoopCount(0);\n      state.tracks.forEach(track => track.eventLoop(store.state.playPosition));\n    },\n    addTrack({ commit }, { name, arrayBuffer }) {\n      commit('addTrack', newTrack({ name, arrayBuffer }));\n    },\n    removeTrack({ commit }, track) {\n      commit('removeTrack', track);\n    },\n    toggleClickActive({ commit, state }) {\n      commit('setClickActive', !state.clickActive);\n    },\n    setTrackGainValue({ state }, { track, value }) {\n      track.gainValue = value;\n      setTrackGain(track, state.settings, state);\n    },\n    setTrackActive({ commit, state }, { track, value }) {\n      commit('setTrackActive', { track, value });\n      setTrackGain(track, state.settings, state);\n    },\n    setSoloTrack({ commit, state }, track) {\n      commit('setSoloTrack', track);\n      state.tracks.forEach(track => setTrackGain(track, state.settings, state));\n    },\n    toggleSettingsDialog({ commit, state }) {\n      commit('setDialog', state.dialog === 'settings' ? null : 'settings');\n    },\n    toggleAboutDialog({ commit, state }) {\n      commit('setDialog', state.dialog === 'about' ? null : 'about');\n    },\n    setClickBpm({ commit }, value) {\n      commit('setClickBpm', value);\n    },\n    setClickTimeSignature({ commit }, value) {\n      commit('setClickTimeSignature', value);\n    },\n\n    toggleControlEditMode({ commit, state }) {\n      commit('setControlEditMode', !state.controlEditMode);\n      commit('setDialog', null);\n    },\n    setControlEditSelected({ commit }, value) {\n      commit('setControlEditSelected', value);\n    },\n    setPlayPosition({ commit }, value) {\n      commit('setPlayPosition', value);\n    }\n  }\n});\n\nconst trackEventLoopInterval = 0.01;\n\nsetInterval(() => {\n  if (store.state.playState === 'playing') {\n    const trackDelta = tracksAudioContext.currentTime - eventLoopStart;\n    if (trackDelta / trackEventLoopCount > trackEventLoopInterval) {\n      trackEventLoop();\n      trackEventLoopCount++;\n    }\n\n    clickEventLoop(store);\n  }\n}, 1);\n\nfunction trackEventLoop() {\n  store.commit(\n    'setPlayPosition',\n    store.state.playPosition + trackEventLoopInterval\n  );\n  store.state.tracks.forEach(track =>\n    track.eventLoop(store.state.playPosition)\n  );\n}\n\nexport default store;\n"]}]}